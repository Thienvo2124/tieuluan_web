<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ﾄ斉ハg Nh蘯ｭp / ﾄ斉ハg Kﾃｽ</title>
    <link rel="stylesheet" href="css/form_login_register.css">
</head>

<body>

    <main class="auth-container">
        <form id="login-form" class="auth-form">
            <h2>ﾄ斉ハg Nh蘯ｭp</h2>
            <div class="input-group">
                <label for="login-username">Tﾃｪn ﾄ惰ハg nh蘯ｭp</label>
                <input type="text" id="login-username" required>
            </div>
            <div class="input-group">
                <label for="login-password">M蘯ｭt kh蘯ｩu</label>
                <input type="password" id="login-password" required>
            </div>
            <button type="submit" class="button-submit">ﾄ斉ハg Nh蘯ｭp</button>
            <p class="toggle-link">Chﾆｰa cﾃｳ tﾃi kho蘯｣n? <a href="#" id="show-register">ﾄ斉ハg Kﾃｽ ngay</a></p>
            <p class="toggle-link"><a href="trangchu_index.html">Quay L蘯｡i Trang Ch盻ｧ</a></p>
            <!-- <li><a href="#">汨･ Qu蘯｣n Lﾃｽ Ngﾆｰ盻拱 Dﾃｹng</a></li> -->
        </form>

        <form id="register-form" class="auth-form hidden">
            <h2>ﾄ斉ハg Kﾃｽ</h2>
            <div class="input-group">
                <label for="register-username">Tﾃｪn ﾄ惰ハg nh蘯ｭp</label>
                <input type="text" id="register-username" required>
            </div>
            <div class="input-group">
                <label for="register-password">M蘯ｭt kh蘯ｩu</label>
                <input type="password" id="register-password" required>
            </div>
            <div class="input-group">
                <label for="register-confirm-password">Xﾃ｡c nh蘯ｭn m蘯ｭt kh蘯ｩu</label>
                <input type="password" id="register-confirm-password" required>
            </div>
            <button type="submit" class="button-submit">ﾄ斉ハg Kﾃｽ</button>
            <p class="toggle-link">ﾄ静｣ cﾃｳ tﾃi kho蘯｣n? <a href="#" id="show-login">ﾄ斉ハg Nh蘯ｭp</a></p>
            <p class="toggle-link"><a href="trangchu_index.html">Quay L蘯｡i Trang Ch盻ｧ</a></p>
      </div>
           
        </form>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const loginForm = document.getElementById('login-form');
                const registerForm = document.getElementById('register-form');
                const showLoginLink = document.getElementById('show-login');
                const showRegisterLink = document.getElementById('show-register');

                // Chuy盻ハ ﾄ黛ｻ品 gi盻ｯa form ﾄ斉ハg nh蘯ｭp vﾃ ﾄ斉ハg kﾃｽ
                showRegisterLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    loginForm.classList.add('hidden');
                    registerForm.classList.remove('hidden');
                });

                showLoginLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    registerForm.classList.add('hidden');
                    loginForm.classList.remove('hidden');
                });

                // X盻ｭ lﾃｽ form ﾄ斉ハg kﾃｽ
                registerForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const username = document.getElementById('register-username').value;
                    const password = document.getElementById('register-password').value;
                    const confirmPassword = document.getElementById('register-confirm-password').value;

                    if (password !== confirmPassword) {
                        alert('M蘯ｭt kh蘯ｩu xﾃ｡c nh蘯ｭn khﾃｴng kh盻孅!');
                        return;
                    }

                    // Lﾆｰu thﾃｴng tin ngﾆｰ盻拱 dﾃｹng vﾃo localStorage
                    const user = { username, password };
                    localStorage.setItem(username, JSON.stringify(user));
                    alert('ﾄ斉ハg kﾃｽ thﾃnh cﾃｴng!');

                    // Chuy盻ハ sang form ﾄ惰ハg nh蘯ｭp sau khi ﾄ惰ハg kﾃｽ
                    loginForm.classList.remove('hidden');
                    registerForm.classList.add('hidden');
                });

                // X盻ｭ lﾃｽ form ﾄ斉ハg nh蘯ｭp
                loginForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const username = document.getElementById('login-username').value;
                    const password = document.getElementById('login-password').value;

                    // L蘯･y thﾃｴng tin ngﾆｰ盻拱 dﾃｹng t盻ｫ localStorage
                    const storedUser = JSON.parse(localStorage.getItem(username));

                    if (storedUser && storedUser.password === password) {
                        alert('ﾄ斉ハg nh蘯ｭp thﾃnh cﾃｴng!');
                        // Chuy盻ハ hﾆｰ盻嬾g ﾄ黛ｺｿn trang chﾃｭnh
                        window.location.href = '../webtruyen/index.html';
                    } else {
                        alert('Tﾃｪn ﾄ惰ハg nh蘯ｭp ho蘯ｷc m蘯ｭt kh蘯ｩu khﾃｴng ﾄ妥ｺng!');
                    }
                });
            });
        </script>
    </main>

    <script src="scripts/auth.js"></script>
</body>

</html>